error: Este es un error de prubea de tipo Error
error: Este es un error de prubea de tipo Error
error: Este es un error de prubea de tipo Error
error: req.sendServerError is not a function {"stack":"TypeError: req.sendServerError is not a function\n    at SessionsRouter.changeUserRole (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/sessions.controller.js:76:13)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:35:32\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:58:9\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\index.js:284:15"}
error: req.sendServerError is not a function {"stack":"TypeError: req.sendServerError is not a function\n    at SessionsRouter.changeUserRole (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/sessions.controller.js:76:13)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:35:32\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:58:9\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\index.js:284:15"}
error: usersService.getCurrentUser is not a function {"stack":"TypeError: usersService.getCurrentUser is not a function\n    at SessionsRouter.changeUserRole (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/sessions.controller.js:60:41)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:35:32\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:58:9\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\index.js:284:15"}
error: cart is not defined {"stack":"ReferenceError: cart is not defined\n    at Object.putUserById (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/dao/services/users.service.js:44:42)\n    at SessionsRouter.changeUserRole (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/sessions.controller.js:62:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:35:17"}
error: owner is not defined {"stack":"ReferenceError: owner is not defined\n    at Object.postProduct (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/dao/services/products.service.js:44:16)\n    at ProductsRouter.postProduct (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/products.controller.js:35:47)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:36:32\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:69:9\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}
error: E11000 duplicate key error collection: ecommerce.products index: code_1 dup key: { code: "234234" } {"code":11000,"errorResponse":{"code":11000,"errmsg":"E11000 duplicate key error collection: ecommerce.products index: code_1 dup key: { code: \"234234\" }","index":0,"keyPattern":{"code":1},"keyValue":{"code":"234234"}},"index":0,"keyPattern":{"code":1},"keyValue":{"code":"234234"},"stack":"MongoServerError: E11000 duplicate key error collection: ecommerce.products index: code_1 dup key: { code: \"234234\" }\n    at InsertOneOperation.execute (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\operations\\insert.js:51:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async executeOperation (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\operations\\execute_operation.js:136:16)\n    at async Collection.insertOne (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\mongoose\\node_modules\\mongodb\\lib\\collection.js:155:16)"}
error: Cannot read properties of null (reading 'owner') {"stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.deleteProductByParamsId (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/products.controller.js:64:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:36:17"}
error: Cannot read properties of null (reading 'owner') {"stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.deleteProductByParamsId (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/products.controller.js:64:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:36:17"}
error: Cannot read properties of null (reading 'owner') {"stack":"TypeError: Cannot read properties of null (reading 'owner')\n    at ProductsRouter.deleteProductByParamsId (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/products.controller.js:64:32)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:36:17"}
error: password is not defined {"stack":"ReferenceError: password is not defined\n    at SessionsRouter.updatePassword (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/sessions.controller.js:114:36)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:36:32\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:47:38\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\index.js:284:15"}
error: user.save is not a function {"stack":"TypeError: user.save is not a function\n    at SessionsRouter.updatePassword (file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/controllers/sessions.controller.js:115:20)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:36:32\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at file:///D:/Archivos/CoderHouse/BackEnd/Desafios/PracticaIntegradora3/src/routes/router.js:47:38\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at D:\\Archivos\\CoderHouse\\BackEnd\\Desafios\\PracticaIntegradora3\\node_modules\\express\\lib\\router\\index.js:284:15"}
